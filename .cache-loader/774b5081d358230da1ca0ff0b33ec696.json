{"remainingRequest":"C:\\Program Files\\nodejs\\nodeServer\\guge\\node_modules\\babel-loader\\lib\\index.js??ref--0-1!C:\\Program Files\\nodejs\\nodeServer\\guge\\src\\js\\index.js","dependencies":[{"path":"C:\\Program Files\\nodejs\\nodeServer\\guge\\src\\js\\index.js","mtime":1519887306683},{"path":"C:\\Program Files\\nodejs\\nodeServer\\guge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1510929699000},{"path":"C:\\Program Files\\nodejs\\nodeServer\\guge\\node_modules\\babel-loader\\lib\\index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nrequire('../css/base/guge.scss');\n\nrequire('../css/base/head.scss');\n\nrequire('../css/index.scss');\n\nrequire('../css/base/foot.scss');\n\nvar _slider = require('../js/common/slider');\n\nvar _pubSubEvent = require('../js/common/pubSubEvent');\n\nvar init = function init() {\n    initSlider();\n};\nvar initSlider = function initSlider() {\n    var sliderContext = document.getElementById(\"indexSliderWrap\"),\n        sliderItemNodeList = sliderContext.querySelectorAll(\".sliderItem\"),\n        prevButton = sliderContext.querySelector('.js-sliderButtonPrev'),\n        nextButton = sliderContext.querySelector('.js-sliderButtonNext');\n    var currentIndex = 0,\n        totalSliderLength = sliderItemNodeList.length,\n        bindEvent = void 0,\n        getPrevItem = void 0,\n        getNextItem = void 0;\n    var SliderInstance = new _slider.Slider(sliderContext, {\n        interval: 3000,\n        direction: \"left\"\n    });\n\n    _pubSubEvent.PubSubEvent.subscribe(\"sliderIndex\", function (index) {\n        currentIndex = index;\n    });\n    bindEvent = function bindEvent() {\n        var prevItem = null,\n            nextItem = null;\n        prevButton.addEventListener(\"mouseenter\", function () {\n            prevItem = getPrevItem();\n        }, false);\n        nextButton.addEventListener(\"mouseenter\", function () {\n            nextItem = getNextItem();\n        }, false);\n        prevButton.addEventListener('click', function () {\n            if (prevItem) {\n                SliderInstance.gotoItem(\"right\", prevItem);\n                prevItem = getPrevItem();\n            }\n        }, false);\n        nextButton.addEventListener('click', function () {\n            if (nextItem) {\n                SliderInstance.gotoItem(\"left\", nextItem);\n                nextItem = getNextItem();\n            }\n        }, false);\n    };\n    getPrevItem = function getPrevItem() {\n        var preIndex = 0;\n        if (0 == currentIndex) {\n            preIndex = totalSliderLength - 1;\n        } else {\n            preIndex = currentIndex - 1;\n        }\n        return SliderInstance.getNextItem(\"right\", preIndex);\n    };\n    getNextItem = function getNextItem() {\n        var nextIndex = 0;\n        if (totalSliderLength - 1 != currentIndex) {\n            nextIndex = currentIndex + 1;\n        }\n        return SliderInstance.getNextItem(\"left\", nextIndex);\n    };\n    bindEvent();\n};\ninit();",{"version":3,"sources":["src\\js\\index.js"],"names":["init","initSlider","sliderContext","document","getElementById","sliderItemNodeList","querySelectorAll","prevButton","querySelector","nextButton","currentIndex","totalSliderLength","length","bindEvent","getPrevItem","getNextItem","SliderInstance","interval","direction","subscribe","index","prevItem","nextItem","addEventListener","gotoItem","preIndex","nextIndex"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAIA,OAAO,SAAPA,IAAO,GAAU;AACjBC;AACH,CAFD;AAGA,IAAIA,aAAa,SAAbA,UAAa,GAAU;AACvB,QAAIC,gBAAgBC,SAASC,cAAT,CAAwB,iBAAxB,CAApB;AAAA,QACIC,qBAAqBH,cAAcI,gBAAd,CAA+B,aAA/B,CADzB;AAAA,QAEIC,aAAaL,cAAcM,aAAd,CAA4B,sBAA5B,CAFjB;AAAA,QAGIC,aAAaP,cAAcM,aAAd,CAA4B,sBAA5B,CAHjB;AAIA,QAAIE,eAAe,CAAnB;AAAA,QACIC,oBAAoBN,mBAAmBO,MAD3C;AAAA,QAEIC,kBAFJ;AAAA,QAEcC,oBAFd;AAAA,QAE0BC,oBAF1B;AAGA,QAAIC,iBAAiB,mBAAWd,aAAX,EAAyB;AAC1Ce,kBAAS,IADiC;AAE1CC,mBAAU;AAFgC,KAAzB,CAArB;;AAKA,6BAAYC,SAAZ,CAAsB,aAAtB,EAAoC,UAASC,KAAT,EAAe;AAC/CV,uBAAeU,KAAf;AACH,KAFD;AAGAP,gBAAY,qBAAU;AAClB,YAAIQ,WAAW,IAAf;AAAA,YACIC,WAAW,IADf;AAEAf,mBAAWgB,gBAAX,CAA4B,YAA5B,EAAyC,YAAM;AAC3CF,uBAAWP,aAAX;AACH,SAFD,EAEE,KAFF;AAGAL,mBAAWc,gBAAX,CAA4B,YAA5B,EAAyC,YAAM;AAC3CD,uBAAWP,aAAX;AACH,SAFD,EAEE,KAFF;AAGAR,mBAAWgB,gBAAX,CAA4B,OAA5B,EAAoC,YAAM;AACtC,gBAAGF,QAAH,EAAY;AACRL,+BAAeQ,QAAf,CAAwB,OAAxB,EAAgCH,QAAhC;AACAA,2BAAWP,aAAX;AACH;AACJ,SALD,EAKE,KALF;AAMAL,mBAAWc,gBAAX,CAA4B,OAA5B,EAAoC,YAAM;AACtC,gBAAGD,QAAH,EAAY;AACRN,+BAAeQ,QAAf,CAAwB,MAAxB,EAA+BF,QAA/B;AACAA,2BAAWP,aAAX;AACH;AACJ,SALD,EAKE,KALF;AAMH,KArBD;AAsBAD,kBAAc,uBAAU;AACpB,YAAIW,WAAW,CAAf;AACA,YAAG,KAAKf,YAAR,EAAqB;AACjBe,uBAAWd,oBAAoB,CAA/B;AACH,SAFD,MAEK;AACDc,uBAAWf,eAAc,CAAzB;AACH;AACD,eAAOM,eAAeD,WAAf,CAA2B,OAA3B,EAAmCU,QAAnC,CAAP;AACH,KARD;AASAV,kBAAc,uBAAU;AACpB,YAAIW,YAAY,CAAhB;AACA,YAAGf,oBAAoB,CAApB,IAAyBD,YAA5B,EAAyC;AACrCgB,wBAAYhB,eAAe,CAA3B;AACH;AACD,eAAOM,eAAeD,WAAf,CAA2B,MAA3B,EAAkCW,SAAlC,CAAP;AACH,KAND;AAOAb;AACH,CAvDD;AAwDAb","file":"index.js","sourceRoot":"C:/Program Files/nodejs/nodeServer/guge","sourcesContent":["import '../css/base/guge.scss';\nimport '../css/base/head.scss';\nimport '../css/index.scss';\nimport '../css/base/foot.scss';\nimport {Slider} from '../js/common/slider';\nimport {PubSubEvent} from '../js/common/pubSubEvent';\n\nlet init = function(){\n    initSlider();\n};\nlet initSlider = function(){\n    let sliderContext = document.getElementById(\"indexSliderWrap\"),\n        sliderItemNodeList = sliderContext.querySelectorAll(\".sliderItem\"),\n        prevButton = sliderContext.querySelector('.js-sliderButtonPrev'),\n        nextButton = sliderContext.querySelector('.js-sliderButtonNext');\n    let currentIndex = 0,\n        totalSliderLength = sliderItemNodeList.length,\n        bindEvent,getPrevItem,getNextItem;\n    let SliderInstance = new Slider(sliderContext,{\n        interval:3000,\n        direction:\"left\"\n    });\n\n    PubSubEvent.subscribe(\"sliderIndex\",function(index){\n        currentIndex = index;\n    });\n    bindEvent = function(){\n        let prevItem = null,\n            nextItem = null;\n        prevButton.addEventListener(\"mouseenter\",() => {\n            prevItem = getPrevItem();\n        },false);\n        nextButton.addEventListener(\"mouseenter\",() => {\n            nextItem = getNextItem();\n        },false);\n        prevButton.addEventListener('click',() => {\n            if(prevItem){\n                SliderInstance.gotoItem(\"right\",prevItem);\n                prevItem = getPrevItem();\n            }\n        },false);\n        nextButton.addEventListener('click',() => {\n            if(nextItem){\n                SliderInstance.gotoItem(\"left\",nextItem);\n                nextItem = getNextItem();\n            }\n        },false);\n    };\n    getPrevItem = function(){\n        let preIndex = 0;\n        if(0 == currentIndex){\n            preIndex = totalSliderLength - 1;\n        }else{\n            preIndex = currentIndex -1;\n        }\n        return SliderInstance.getNextItem(\"right\",preIndex);\n    }\n    getNextItem = function(){\n        let nextIndex = 0;\n        if(totalSliderLength - 1 != currentIndex){\n            nextIndex = currentIndex + 1;\n        }\n        return SliderInstance.getNextItem(\"left\",nextIndex);\n    }\n    bindEvent();\n}\ninit();"]}]}